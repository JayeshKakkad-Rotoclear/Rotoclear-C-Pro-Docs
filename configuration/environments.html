<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Environments - RotoClear Camera Server Documentation</title>
    <link rel="stylesheet" href="/assets/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css">
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
</head>
<body>
    <div class="container">
        <aside class="sidebar">
            <div class="sidebar-header">
                <h1><a href="/index.html">RotoClear Docs</a></h1>
                <p>Camera Server Documentation</p>
            </div>
            <nav class="sidebar-nav">
                <ul class="nav-menu">
                    <li class="nav-item depth-0">
<a href="/index.html">Home</a>
</li>
<li class="nav-item depth-0">
<a href="/getting-started.html">Getting Started</a>
</li>
<li class="nav-folder depth-0">
<span class="folder-title">Architecture</span>
<ul class="nav-submenu">
<li class="nav-item depth-1">
<a href="/architecture/overview.html">Overview</a>
</li>
<li class="nav-item depth-1">
<a href="/architecture/state-management.html">State Management</a>
</li>
<li class="nav-item depth-1">
<a href="/architecture/camera-pipeline.html">Camera Pipeline</a>
</li>
<li class="nav-item depth-1">
<a href="/architecture/metadata-sqlite.html">Metadata & SQLite</a>
</li>
<li class="nav-folder depth-1">
<span class="folder-title">Decisions</span>
<ul class="nav-submenu">
<li class="nav-item depth-2">
<a href="/architecture/decisions/ADR-0001-nim-language.html">ADR-0001 Nim Language</a>
</li>
<li class="nav-item depth-2">
<a href="/architecture/decisions/ADR-0002-corun-framework.html">ADR-0002 Corun Framework</a>
</li>
<li class="nav-item depth-2">
<a href="/architecture/decisions/ADR-0003-observable-state.html">ADR-0003 Observable State</a>
</li>
</ul>
</li>
</ul>
</li>
<li class="nav-folder depth-0">
<span class="folder-title">API Reference</span>
<ul class="nav-submenu">
<li class="nav-item depth-1">
<a href="/api/README.html">Overview</a>
</li>
<li class="nav-item depth-1">
<a href="/api/websocket-api.html">WebSocket API</a>
</li>
<li class="nav-item depth-1">
<a href="/api/http-api.html">HTTP API</a>
</li>
<li class="nav-item depth-1">
<a href="/api/rtsp-streaming.html">RTSP Streaming</a>
</li>
<li class="nav-folder depth-1">
<span class="folder-title">Examples</span>
<ul class="nav-submenu">
<li class="nav-item depth-2">
<a href="/api/examples/python-client.html">Python Client</a>
</li>
<li class="nav-item depth-2">
<a href="/api/examples/javascript-client.html">JavaScript Client</a>
</li>
<li class="nav-item depth-2">
<a href="/api/examples/csharp-client.html">C# Client</a>
</li>
</ul>
</li>
</ul>
</li>
<li class="nav-folder depth-0">
<span class="folder-title">Configuration</span>
<ul class="nav-submenu">
<li class="nav-item depth-1 active">
<a href="/configuration/environments.html">Environments</a>
</li>
<li class="nav-item depth-1">
<a href="/configuration/factory-config.html">Factory Config</a>
</li>
<li class="nav-item depth-1">
<a href="/configuration/license-config.html">License Config</a>
</li>
<li class="nav-item depth-1">
<a href="/configuration/deployment-variants.html">Deployment Variants</a>
</li>
<li class="nav-item depth-1">
<a href="/configuration/camera-system.html">Camera System</a>
</li>
<li class="nav-item depth-1">
<a href="/configuration/network.html">Network</a>
</li>
<li class="nav-item depth-1">
<a href="/configuration/storage-backup.html">Storage & Backup</a>
</li>
<li class="nav-item depth-1">
<a href="/configuration/authentication.html">Authentication</a>
</li>
</ul>
</li>
<li class="nav-folder depth-0">
<span class="folder-title">Camera System</span>
<ul class="nav-submenu">
<li class="nav-item depth-1">
<a href="/camera/hardware-interface.html">Hardware Interface</a>
</li>
<li class="nav-item depth-1">
<a href="/camera/streaming.html">Streaming</a>
</li>
<li class="nav-item depth-1">
<a href="/camera/recording.html">Recording</a>
</li>
<li class="nav-item depth-1">
<a href="/camera/image-processing.html">Image Processing</a>
</li>
</ul>
</li>
<li class="nav-folder depth-0">
<span class="folder-title">Operations</span>
<ul class="nav-submenu">
<li class="nav-item depth-1">
<a href="/operations/build-and-deploy.html">Build and Deploy</a>
</li>
<li class="nav-item depth-1">
<a href="/operations/build-deploy.html">Build & Deploy (Alt)</a>
</li>
<li class="nav-item depth-1">
<a href="/operations/monitoring.html">Monitoring</a>
</li>
<li class="nav-item depth-1">
<a href="/operations/performance.html">Performance</a>
</li>
<li class="nav-item depth-1">
<a href="/operations/troubleshooting.html">Troubleshooting</a>
</li>
</ul>
</li>
<li class="nav-folder depth-0">
<span class="folder-title">Security</span>
<ul class="nav-submenu">
<li class="nav-item depth-1">
<a href="/security/authentication.html">Authentication</a>
</li>
<li class="nav-item depth-1">
<a href="/security/permissions.html">Permissions</a>
</li>
<li class="nav-item depth-1">
<a href="/security/ssl-certificates.html">SSL Certificates</a>
</li>
</ul>
</li>
<li class="nav-folder depth-0">
<span class="folder-title">Testing</span>
<ul class="nav-submenu">
<li class="nav-item depth-1">
<a href="/testing/testing-strategy.html">Strategy</a>
</li>
<li class="nav-item depth-1">
<a href="/testing/strategies.html">Strategies</a>
</li>
<li class="nav-item depth-1">
<a href="/testing/test-cases.html">Test Cases</a>
</li>
<li class="nav-item depth-1">
<a href="/testing/validation.html">Validation</a>
</li>
</ul>
</li>
<li class="nav-folder depth-0">
<span class="folder-title">Integration</span>
<ul class="nav-submenu">
<li class="nav-item depth-1">
<a href="/integration/onvif-protocol.html">ONVIF Protocol</a>
</li>
<li class="nav-item depth-1">
<a href="/integration/third-party.html">Third Party</a>
</li>
</ul>
</li>
<li class="nav-folder depth-0">
<span class="folder-title">Reference</span>
<ul class="nav-submenu">
<li class="nav-item depth-1">
<a href="/reference/glossary.html">Glossary</a>
</li>
<li class="nav-item depth-1">
<a href="/reference/requirements.html">Requirements</a>
</li>
<li class="nav-item depth-1">
<a href="/reference/state-observables.html">State Observables</a>
</li>
</ul>
</li>
<li class="nav-folder depth-0">
<span class="folder-title">Releases</span>
<ul class="nav-submenu">
<li class="nav-item depth-1">
<a href="/releases/CHANGELOG.html">Changelog</a>
</li>
</ul>
</li>
<li class="nav-item depth-0">
<a href="/glossary.html">Glossary</a>
</li>
                </ul>
            </nav>
        </aside>
        
        <main class="content">
            <div class="content-wrapper">
                <h1 id="environment-configuration">Environment Configuration</h1>
<p><strong>Multi-environment configuration system for different deployment scenarios.</strong></p>
<h2 id="configuration-overview">Configuration Overview</h2>
<p>The Rotoclear Camera Server uses a multi-environment configuration system located in <code>rsc_config/</code> with separate configurations for different deployment scenarios.</p>
<h2 id="environment-variants">Environment Variants</h2>
<table>
<thead>
<tr>
<th>Environment</th>
<th>Directory</th>
<th>Purpose</th>
<th>Target</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>DEFAULT</strong></td>
<td><code>config_DEFAULT/</code></td>
<td>Base configuration</td>
<td>Fallback</td>
</tr>
<tr>
<td><strong>DEV</strong></td>
<td><code>config_DEV/</code></td>
<td>Development</td>
<td>Local development</td>
</tr>
<tr>
<td><strong>DEMO</strong></td>
<td><code>config_DEMO/</code></td>
<td>Demonstration</td>
<td>Demo systems</td>
</tr>
<tr>
<td><strong>EDU</strong></td>
<td><code>config_EDU/</code></td>
<td>Educational</td>
<td>Educational institutions</td>
</tr>
<tr>
<td><strong>VB</strong></td>
<td><code>config_VB/</code></td>
<td>Version B</td>
<td>Variant B hardware</td>
</tr>
<tr>
<td><strong>DMG</strong></td>
<td><code>config_rc_DMG/</code></td>
<td>DMG Variant</td>
<td>DMG specific deployment</td>
</tr>
</tbody>
</table>
<h2 id="configuration-files">Configuration Files</h2>
<h3 id="factory-configuration-factory_configjson">Factory Configuration (<code>factory_config.json</code>)</h3>
<p>Controls core system behavior and server settings.</p>
<p><strong>Development Example</strong> (<code>config_DEV/factory_config.json</code>):</p>
<div class="codehilite"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;oneWebserverIsAlwaysRunning&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;httpOn&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;httpsOn&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;discRotation&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;rpm&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">4000</span>
<span class="p">}</span>
</code></pre></div>

<p><strong>DMG Production Example</strong> (<code>config_rc_DMG/factory_config.json</code>):</p>
<div class="codehilite"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;oneWebserverIsAlwaysRunning&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;httpOn&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;httpsOn&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;discRotation&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;rpm&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">6000</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;httpPort&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">80</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;httpsPort&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">443</span>
<span class="p">}</span>
</code></pre></div>

<h4 id="factory-configuration-properties">Factory Configuration Properties</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>oneWebserverIsAlwaysRunning</code></td>
<td>boolean</td>
<td>Keep web server active</td>
<td><code>true</code></td>
</tr>
<tr>
<td><code>httpOn</code></td>
<td>boolean</td>
<td>Enable HTTP server</td>
<td><code>true</code></td>
</tr>
<tr>
<td><code>httpsOn</code></td>
<td>boolean</td>
<td>Enable HTTPS server</td>
<td><code>false</code></td>
</tr>
<tr>
<td><code>discRotation</code></td>
<td>boolean</td>
<td>Enable disc rotation motor</td>
<td><code>false</code></td>
</tr>
<tr>
<td><code>rpm</code></td>
<td>integer</td>
<td>Rotation speed (RPM)</td>
<td><code>4000</code></td>
</tr>
<tr>
<td><code>httpPort</code></td>
<td>integer</td>
<td>HTTP server port</td>
<td><code>3000</code></td>
</tr>
<tr>
<td><code>httpsPort</code></td>
<td>integer</td>
<td>HTTPS server port</td>
<td><code>3001</code></td>
</tr>
</tbody>
</table>
<h3 id="license-configuration-license_configjson">License Configuration (<code>license_config.json</code>)</h3>
<p>Controls feature licensing and capabilities.</p>
<p><strong>DMG Example</strong> (<code>config_rc_DMG/license_config.json</code>):</p>
<div class="codehilite"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;stream4K&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span>
<span class="p">}</span>
</code></pre></div>

<p><strong>EDU Example</strong> (<code>config_EDU/license_config.json</code>):</p>
<div class="codehilite"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;stream4K&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;advancedRecording&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;networkStorage&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span>
<span class="p">}</span>
</code></pre></div>

<blockquote>
<p>TODO: Document complete license configuration options</p>
</blockquote>
<h3 id="version-flavor-version_flavor">Version Flavor (<code>version_flavor</code>)</h3>
<p>Identifies the specific variant or flavor of the deployment.</p>
<p><strong>Examples:</strong><br />
- <code>config_DEMO/version_flavor</code>: Contains deployment-specific identifier<br />
- <code>config_EDU/version_flavor</code>: Educational version identifier<br />
- <code>config_VB/version_flavor</code>: Version B hardware identifier</p>
<h3 id="style-configuration-style_variables_configjson">Style Configuration (<code>style_variables_config.json</code>)</h3>
<p>UI styling and theming configuration (DMG variant):</p>
<div class="codehilite"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;primaryColor&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;#2196F3&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;secondaryColor&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;#FFC107&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;backgroundColor&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;#FAFAFA&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;textColor&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;#212121&quot;</span>
<span class="p">}</span>
</code></pre></div>

<blockquote>
<p>TODO: Document complete style configuration options</p>
</blockquote>
<h2 id="asset-management">Asset Management</h2>
<h3 id="images-directory-structure">Images Directory Structure</h3>
<p>Each environment can include custom images:</p>
<div class="codehilite"><pre><span></span><code>config_EDU/
├── imgs/
│   ├── logo.png
│   ├── background.jpg
│   └── icons/
└── hdmi_imgs/
    ├── splash.png
    └── overlay.png
</code></pre></div>

<h3 id="stylesheets">Stylesheets</h3>
<p>Custom CSS files for web interface theming:</p>
<div class="codehilite"><pre><span></span><code>config_rc_DMG/
└── stylesheets/
    ├── main.css
    ├── mobile.css
    └── themes/
</code></pre></div>

<h2 id="configuration-selection">Configuration Selection</h2>
<h3 id="build-time-selection">Build-time Selection</h3>
<p>Configuration is selected during the build process using environment-specific flags:</p>
<div class="codehilite"><pre><span></span><code><span class="c1"># Build with DEV configuration</span>
nim<span class="w"> </span>c<span class="w"> </span>-d:config<span class="o">=</span>DEV<span class="w"> </span>rotordream.nim

<span class="c1"># Build with DMG configuration  </span>
nim<span class="w"> </span>c<span class="w"> </span>-d:config<span class="o">=</span>DMG<span class="w"> </span>rotordream.nim
</code></pre></div>

<h3 id="runtime-configuration-loading">Runtime Configuration Loading</h3>
<p>The application loads configuration from the appropriate directory at startup:</p>
<div class="codehilite"><pre><span></span><code><span class="c"># From src/state/factory_config.nim (inferred)</span>
<span class="k">proc</span><span class="w"> </span><span class="nf">loadFactoryConfig</span><span class="o">*</span><span class="p">(</span><span class="n">environment</span><span class="p">:</span><span class="w"> </span><span class="nb">string</span><span class="p">):</span><span class="w"> </span><span class="n">FactoryConfig</span><span class="w"> </span><span class="o">=</span>
<span class="w">  </span><span class="k">let</span><span class="w"> </span><span class="n">configPath</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">fmt&quot;rsc_config/config_{environment}/factory_config.json&quot;</span>
<span class="w">  </span><span class="c"># Load and parse configuration</span>
</code></pre></div>

<h2 id="local-development-configuration">Local Development Configuration</h2>
<h3 id="development-factory-config">Development Factory Config</h3>
<p>Create <code>config_rc/factory_config.json</code> for local development:</p>
<div class="codehilite"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;oneWebserverIsAlwaysRunning&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;httpOn&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;httpsOn&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;discRotation&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;rpm&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">4000</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;httpPort&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">3000</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;httpsPort&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">3001</span>
<span class="p">}</span>
</code></pre></div>

<h3 id="environment-variables">Environment Variables</h3>
<p>Configure runtime behavior with environment variables:</p>
<div class="codehilite"><pre><span></span><code><span class="c1"># Target device configuration</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">C3_BOX_IP</span><span class="o">=</span><span class="s2">&quot;192.168.1.100&quot;</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">C3_BOX_PW</span><span class="o">=</span><span class="s2">&quot;admin&quot;</span>

<span class="c1"># Alternative IP configuration</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">ROTOCLEAR_IP</span><span class="o">=</span><span class="s2">&quot;rotoclear-cam.local&quot;</span>
</code></pre></div>

<h2 id="deployment-configuration">Deployment Configuration</h2>
<h3 id="cross-compilation-flags">Cross-compilation Flags</h3>
<p>Different configurations require different compilation flags (from <code>tools/common.nim</code>):</p>
<div class="codehilite"><pre><span></span><code><span class="c"># ARM32 embedded system</span>
<span class="k">proc</span><span class="w"> </span><span class="nf">getEmbeddedFlags</span><span class="o">*</span><span class="p">(</span><span class="n">isArm32</span><span class="p">:</span><span class="w"> </span><span class="nb">bool</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kp">true</span><span class="p">):</span><span class="w"> </span><span class="nb">string</span><span class="w"> </span><span class="o">=</span>
<span class="w">  </span><span class="n">result</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="s">&quot; -d:directCompile=true -d:embeddedSystem&quot;</span><span class="p">)</span>

<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="n">isArm32</span><span class="p">:</span>
<span class="w">    </span><span class="c"># ARM32 specific libraries</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">kind</span><span class="p">,</span><span class="w"> </span><span class="n">path</span><span class="p">)</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">walkDir</span><span class="p">(</span><span class="s">&quot;libs-petalinux&quot;</span><span class="p">):</span>
<span class="w">      </span><span class="n">result</span><span class="p">.</span><span class="n">add</span><span class="w"> </span><span class="s">&quot;-L:&quot;</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">path</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="s">&quot; &quot;</span>
<span class="w">  </span><span class="k">else</span><span class="p">:</span>
<span class="w">    </span><span class="c"># ARM64 specific configuration</span>
<span class="w">    </span><span class="n">result</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="s">&quot; --cpu:arm64 --os:linux&quot;</span><span class="p">)</span>
</code></pre></div>

<h3 id="remote-deployment">Remote Deployment</h3>
<p>Configuration deployment via SSH (from <code>tools/remoteRelease.nim</code>):</p>
<div class="codehilite"><pre><span></span><code><span class="c1"># Deploy specific configuration</span>
nim<span class="w"> </span>c<span class="w"> </span>-r<span class="w"> </span>tools/remoteRelease.nim<span class="w"> </span>DMG

<span class="c1"># Deploy with custom target</span>
<span class="nv">C3_BOX_IP</span><span class="o">=</span><span class="s2">&quot;192.168.1.200&quot;</span><span class="w"> </span>nim<span class="w"> </span>c<span class="w"> </span>-r<span class="w"> </span>tools/remoteRelease.nim<span class="w"> </span>EDU
</code></pre></div>

<h2 id="configuration-validation">Configuration Validation</h2>
<h3 id="required-files">Required Files</h3>
<p>Each configuration environment should include:</p>
<ul>
<li><code>factory_config.json</code> - Core system configuration</li>
<li><code>version_flavor</code> - Version identification</li>
<li><code>license_config.json</code> - Feature licensing (optional)</li>
</ul>
<h3 id="validation-checklist">Validation Checklist</h3>
<ul>
<li>[ ] JSON syntax is valid</li>
<li>[ ] Required properties are present</li>
<li>[ ] Port numbers don't conflict</li>
<li>[ ] Image assets exist if referenced</li>
<li>[ ] Permissions are appropriate for target system</li>
</ul>
<h2 id="configuration-inheritance">Configuration Inheritance</h2>
<h3 id="default-fallback">Default Fallback</h3>
<p>If a configuration file is missing from an environment, the system falls back to:</p>
<ol>
<li><code>config_DEFAULT/</code> directory</li>
<li>Built-in defaults in source code</li>
<li>Safe fallback values</li>
</ol>
<h3 id="override-hierarchy">Override Hierarchy</h3>
<div class="codehilite"><pre><span></span><code><span class="n">Built</span><span class="o">-</span><span class="ow">in</span><span class="w"> </span><span class="n">defaults</span>
<span class="w">    </span><span class="err">↓</span>
<span class="n">config_DEFAULT</span><span class="o">/</span>
<span class="w">    </span><span class="err">↓</span>
<span class="n">config_</span><span class="o">&lt;</span><span class="n">ENVIRONMENT</span><span class="o">&gt;/</span>
<span class="w">    </span><span class="err">↓</span>
<span class="n">Runtime</span><span class="w"> </span><span class="n">environment</span><span class="w"> </span><span class="n">variables</span>
</code></pre></div>

<h2 id="troubleshooting">Troubleshooting</h2>
<h3 id="common-issues">Common Issues</h3>
<p><strong>Missing Configuration File:</strong></p>
<div class="codehilite"><pre><span></span><code><span class="n">Error</span><span class="p">:</span><span class="w"> </span><span class="n">Could</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nb">load</span><span class="w"> </span><span class="n">factory_config</span><span class="o">.</span><span class="n">json</span>
<span class="n">Solution</span><span class="p">:</span><span class="w"> </span><span class="n">Ensure</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">exists</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">config_</span><span class="o">&lt;</span><span class="n">ENV</span><span class="o">&gt;/</span><span class="w"> </span><span class="n">directory</span>
</code></pre></div>

<p><strong>Invalid JSON:</strong></p>
<div class="codehilite"><pre><span></span><code><span class="n">Error</span><span class="o">:</span><span class="w"> </span><span class="n">JSON</span><span class="w"> </span><span class="n">parsing</span><span class="w"> </span><span class="n">failed</span>
<span class="n">Solution</span><span class="o">:</span><span class="w"> </span><span class="n">Validate</span><span class="w"> </span><span class="n">JSON</span><span class="w"> </span><span class="n">syntax</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">online</span><span class="w"> </span><span class="n">validator</span>
</code></pre></div>

<p><strong>Port Conflicts:</strong></p>
<div class="codehilite"><pre><span></span><code><span class="n">Error</span><span class="o">:</span><span class="w"> </span><span class="n">Address</span><span class="w"> </span><span class="n">already</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">use</span>
<span class="n">Solution</span><span class="o">:</span><span class="w"> </span><span class="n">Change</span><span class="w"> </span><span class="n">httpPort</span><span class="o">/</span><span class="n">httpsPort</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">factory_config</span><span class="o">.</span><span class="na">json</span>
</code></pre></div>

<h3 id="configuration-debugging">Configuration Debugging</h3>
<p>Enable configuration debugging:</p>
<div class="codehilite"><pre><span></span><code>nim<span class="w"> </span>c<span class="w"> </span>-r<span class="w"> </span>-d:ConfigDebug<span class="o">=</span><span class="nb">true</span><span class="w"> </span>rotordream.nim
</code></pre></div>

<h2 id="best-practices">Best Practices</h2>
<ol>
<li><strong>Version Control</strong>: Keep all configurations in version control</li>
<li><strong>Documentation</strong>: Document custom configurations in comments</li>
<li><strong>Validation</strong>: Test configurations before deployment</li>
<li><strong>Backup</strong>: Maintain backups of working configurations</li>
<li><strong>Security</strong>: Don't commit sensitive credentials</li>
</ol>
<h2 id="related-documentation">Related Documentation</h2>
<ul>
<li><a href="../getting-started.md#environment-configuration">Getting Started - Local Configuration</a></li>
<li><a href="../operations/build-and-deploy.md">Build and Deploy</a></li>
<li><a href="../security/authentication.md">Security Configuration</a></li>
</ul>
<hr />
<p><em>Configuration documentation derived from analysis of <code>rsc_config/</code> directories and build scripts</em></p>
            </div>
            <footer class="content-footer">
                <p>Copyright © 2025 Rotoclear</p>
            </footer>
        </main>
        
        <button class="mobile-menu-toggle" id="menuToggle" aria-label="Toggle menu">☰</button>
    </div>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script>
        // Initialize Mermaid
        mermaid.initialize({ 
            startOnLoad: true,
            theme: 'default',
            securityLevel: 'loose',
            fontFamily: 'Inter, sans-serif'
        });
        
        // Syntax highlighting
        hljs.highlightAll();
        
        // Mobile menu toggle
        const menuToggle = document.getElementById('menuToggle');
        const sidebar = document.querySelector('.sidebar');
        
        menuToggle.addEventListener('click', () => {
            sidebar.classList.toggle('active');
        });
        
        // Close sidebar when clicking outside on mobile
        document.addEventListener('click', (e) => {
            if (window.innerWidth <= 768 && 
                !sidebar.contains(e.target) && 
                !menuToggle.contains(e.target) &&
                sidebar.classList.contains('active')) {
                sidebar.classList.remove('active');
            }
        });
        
        // Smooth scroll for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({ behavior: 'smooth' });
                }
            });
        });
    </script>
</body>
</html>